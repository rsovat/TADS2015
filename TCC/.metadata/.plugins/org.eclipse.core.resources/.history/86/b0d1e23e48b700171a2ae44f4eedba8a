package controller;

import java.io.IOException;
import java.util.List;

import javax.bluetooth.BluetoothStateException;
import javax.swing.JComboBox;

import bluetooth.DiscoveryDevices;
import scanner.ConnectToDevice;
import scanner.ELM327;

public class ScreenMonitorController {
	private DiscoveryDevices discoveryDevices;
	private ELM327 elm327;
	
	public ScreenMonitorController() throws BluetoothStateException, IOException {
		discoveryDevices = new DiscoveryDevices();
		discoveryDevices.discovery();
	}
	
	public void listarDevicesComboBox(JComboBox cbListDevices) {
		cbListDevices.removeAllItems();
		for (String device : discoveryDevices.getNamesRemoteDevices()) {
			cbListDevices.addItem(device);
		}
	}
	
	public void atualizarConexao() throws BluetoothStateException, IOException {
		discoveryDevices.discovery();
	}
	
	public void btnConnectar(int index) throws IOException {
		ConnectToDevice connectToDevice = new ConnectToDevice(discoveryDevices);
		elm327 = connectToDevice.connectToDevice(index);
	}
	
}
