
public class FinanciamentoImovel implements Financiamento{
	private boolean novo;
	private double taxa;
	private double valorImovel;
	private double valorEntrada;
	private int quantidadeParcelas;
	private double rendaLiquidaMensal;
	private double valorFinal, valorParcela;
	
	public FinanciamentoImovel() {
		this.novo = false;
		this.valorFinal = 0;
		this.valorParcela = 0;
	}

	public void setImovelNovo() {
		this.novo = true;
	}

	@Override
	public void inserirValorEntrada(double valorEntrada) {
		//deve ser no mínimo de 20%
		this.valorEntrada = valorEntrada;
		
	}

	@Override
	public void inserirValorDoBem(double valorBem) {
		this.valorImovel = valorBem;
		
	}

	@Override
	public void inserirQuantidadeDeParcelas(int quantidadeParcelas) {
		this.quantidadeParcelas = quantidadeParcelas;
		
	}

	@Override
	public void inserirRendaLiquidaMensal(double rendaLiquidaMensal) {
		this.rendaLiquidaMensal = rendaLiquidaMensal;
		
	}

	@Override
	public void calcular() {
		double valorFinalParcial = 0;
		double valorParcelaParcial = 0;
		double valorResultante = this.valorImovel - this.valorEntrada;
		double valorParcelaTemp = valorResultante / this.quantidadeParcelas;
		
		if (this.rendaLiquidaMensal <= 3500) {
			//Juros de 0,03
			valorParcelaParcial = (valorParcelaTemp * 0.06) + valorParcelaTemp;
		}else if (this.rendaLiquidaMensal > 3500 && this.rendaLiquidaMensal <= 5000) {
			//Juros de 0,025
			valorParcelaParcial = (valorParcelaTemp * 0.05) + valorParcelaTemp;
		}else {
			//Maior de 5000 juros de 0,02
			valorParcelaParcial = (valorParcelaTemp * 0.04) + valorParcelaTemp;
		}
		
		valorFinalParcial = valorParcelaParcial * this.quantidadeParcelas;
		
		if (novo) {
			//taxa Habite-se de 5% sobre o valor final
			this.valorFinal = valorFinalParcial * 0.05;
		}else {
			//taxa Transferência de 2% sobre o valor final
			this.valorFinal = valorFinalParcial * 0.02;
		}
		this.valorParcela = this.valorFinal / this.quantidadeParcelas;
	}

	@Override
	public double valorFinalBem() {
		return valorFinal;
	}

	@Override
	public double valorFinalCadaParcela() {
		return valorParcela;
	}
}
